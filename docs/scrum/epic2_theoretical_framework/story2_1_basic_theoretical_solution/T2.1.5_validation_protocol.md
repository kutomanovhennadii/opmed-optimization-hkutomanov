\# 🧩 T2.1.5 — Definition of the Theoretical Validation Protocol



\## 1. Purpose

To define a \*\*formal theoretical protocol\*\* for validating whether a computed solution satisfies all mathematical and logical constraints of the optimization model, independent of implementation details.

This ensures that the resulting schedule is both \*\*feasible\*\* (valid under constraints) and \*\*efficient\*\* (close to optimal) according to the theoretical model.



---



\## 2. Validation Objectives

Theoretical validation is designed to verify the following aspects:



1\. \*\*Feasibility\*\* — the solution satisfies all model constraints.

2\. \*\*Optimality (within tolerance)\*\* — no other feasible solution yields a lower total cost under the same parameters.

3\. \*\*Consistency\*\* — solution variables (x, y, t\_min, t\_max, duration, cost) obey all inter-variable relationships.

4\. \*\*Efficiency\*\* — utilization and idle-time metrics fall within expected theoretical bounds.



---



\## 3. Validation Domains



| Domain | Description | Validation Criteria |

|---------|--------------|---------------------|

| Temporal Consistency | Surgeries occur within the planning horizon | start\_s < end\_s for all s |

| Resource Exclusivity | No overlapping surgeries per room/anesthesiologist | NoOverlap(intervals\_r), NoOverlap(intervals\_a) |

| Buffer Enforcement | Transition time between rooms ≥ BUFFER | start₂ ≥ end₁ + BUFFER |

| Shift Constraints | Duration bounds respected | SHIFT\_MIN ≤ duration\[a] ≤ SHIFT\_MAX |

| Cost Correctness | Cost matches duration formula | cost\[a] = max(SHIFT\_MIN, duration\[a]) + (OVERTIME\_MULTIPLIER−1)×max(0, duration\[a]−SHIFT\_OVERTIME) |

| Assignment Validity | Each surgery assigned to exactly one anesthesiologist and room | Σ(x\[s,a])=1, Σ(y\[s,r])=1 |

| Utilization Threshold | Target efficiency maintained | U ≥ UTILIZATION\_TARGET (0.8) |



---



\## 4. Theoretical Validation Algorithm (Abstract Form)



\*\*Input:\*\*

\- Model parameters (ROOMS\_MAX, SHIFT\_MIN, etc.)

\- Solution variables (x\[s,a], y\[s,r], t\_min\[a], t\_max\[a], cost\[a])



\*\*Procedure:\*\*

1\. \*\*Check assignments:\*\* verify all Σ(x\[s,a]) = 1 and Σ(y\[s,r]) = 1.

2\. \*\*Check overlaps:\*\* ensure `NoOverlap` holds for all anesthesiologists and rooms.

3\. \*\*Check buffers:\*\* for each anesthesiologist, confirm buffer time between room switches.

4\. \*\*Check shifts:\*\* ensure all durations are within \[SHIFT\_MIN, SHIFT\_MAX].

5\. \*\*Recompute costs:\*\* validate that `cost\[a]` equals theoretical formula.

6\. \*\*Compute utilization:\*\* calculate total surgical time vs total cost.

7\. \*\*Evaluate thresholds:\*\*

&nbsp;  - If U < UTILIZATION\_TARGET → valid but inefficient.

&nbsp;  - If any constraint violated → invalid schedule.

8\. \*\*Output:\*\* report validity status, metrics, and detected violations.



---



\## 5. Expected Validation Outcomes



| Case | Description | Classification |

|-------|--------------|----------------|

| All constraints satisfied, U ≥ 0.8 | Fully valid and efficient schedule | ✅ Valid |

| All constraints satisfied, U < 0.8 | Valid but suboptimal schedule | ⚠️ Conditionally Valid |

| Minor numerical deviations (tolerance < 1e−5) | Acceptable due to solver rounding | ⚙️ Numerically Valid |

| Constraint violations or infeasible intervals | Invalid schedule | ❌ Invalid |



---



\## 6. Theoretical Metrics for Evaluation



\- \*\*Feasibility ratio (F):\*\*

&nbsp; F = (number of valid constraints) / (total constraints)



\- \*\*Optimality gap (G):\*\*

&nbsp; G = (C\_found − C\_best) / C\_best

&nbsp; (if benchmark or relaxed optimum is known)



\- \*\*Utilization efficiency (U):\*\*

&nbsp; U = Σ(duration\_surgeries) / Σ(cost\_anesthesiologists)



These metrics together provide a theoretical measure of how close the solution is to the ideal optimum.



---



\## 7. Validation Artifacts

The validation step produces theoretical evidence in the form of:

\- `validation\_report.json` — structured summary of constraint satisfaction.

\- `metrics\_summary.csv` — tabular representation of utilization, idle time, total cost, and anesthesiologist count.

\- `violations.log` — detailed list of any detected constraint breaches.



These artifacts are later used to cross-check the implementation results from the CP-SAT solver (Epic 6).



---



\## 8. Conclusion

The theoretical validation protocol guarantees that any schedule deemed valid satisfies all formal constraints of the mathematical model and meets the efficiency threshold required by the Opmed assignment.

It acts as a \*\*logical reference framework\*\* for comparing solver outputs, performing regression testing, and benchmarking future extensions.



---
