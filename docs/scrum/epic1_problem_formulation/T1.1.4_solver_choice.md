\# ðŸ§© T1.1.4 â€” Definition of Problem Type and Algorithm Class



\## 1. Problem Type



The task belongs to the class of \*\*combinatorial allocation problems with time and resource constraints\*\*.

Closest analogies include:



\- \*\*Assignment problem\*\* â€” assigning workers to tasks;

\- \*\*Job-shop scheduling\*\* â€” planning operations on limited resources;

\- \*\*Bin-packing with time intervals\*\* â€” packing tasks into constrained shifts.



\### Key characteristics

\- Binary decision variables (surgery â†” anesthesiologist, surgery â†” room);

\- Temporal interval dependencies;

\- Complex nonlinear constraints (buffers, shift limits, minimum/maximum duration);

\- Piecewise-defined objective function.



Because of these properties, the task is not purely linear and fits poorly into \*\*MILP (Mixed Integer Linear Programming)\*\* formulations, but it is naturally expressed using \*\*Constraint Programming (CP)\*\*.



---



\## 2. Chosen Approach â€” CP-SAT Solver (Google OR-Tools)



\*\*CP-SAT\*\* is a hybrid solver that combines:

\- \*\*Constraint Programming (CP)\*\* â€” for temporal and logical constraints;

\- \*\*SAT solving\*\* â€” for boolean logic;

\- \*\*Integer Programming (IP)\*\* â€” for linear cost expressions and optimization.



\### Variable types in OR-Tools CP-SAT

\- `BoolVar()` â€” binary decisions (e.g., `x\[s, a]`);

\- `IntVar()` â€” discrete parameters (e.g., surgery start time);

\- `IntervalVar()` â€” intervals defined by start, duration, and end.



\### Core mechanisms

\- `NoOverlap(intervals)` â€” prevents time conflicts (for rooms and anesthesiologists);

\- `AddLinearConstraint()` â€” enforces linear relations (shift duration, cost, buffer);

\- `Add()` and `OnlyEnforceIf()` â€” logical conditions with dependencies.



CP-SAT is the natural choice because:

\- Buffers and intervals are modeled declaratively;

\- Shift durations are handled through linear constraints;

\- Piecewise cost functions are supported via `AddMaxEquality`;

\- Manual time discretization is not required (unlike MILP).



---



\## 3. Integration with the MLOps Pipeline



Since CP-SAT exposes many \*\*hyperparameters\*\* (`search\_branching`, `max\_time\_in\_seconds`, `num\_search\_workers`, `random\_seed`, `linearization\_level`),

the project incorporates an \*\*MLOps layer\*\* for automated tuning and performance tracking.



This pipeline can be built using:

\- \*\*MLflow\*\* â€” to log metrics (`utilization`, `total\_cost`, runtime, `seed`);

\- \*\*Airflow\*\* â€” to orchestrate multiple solver runs (grid or Bayesian search);

\- \*\*Weights \& Biases\*\* or \*\*Neptune.ai\*\* â€” to visualize parameterâ€“metric distributions.



\### Typical tuning loop

1\. Run the solver with a specific set of hyperparameters.

2\. Log results as artifacts (metrics + configuration).

3\. Automatically select the best parameters based on the cost/utilization/time trade-off.



This ensures a reproducible, systematic, and data-driven optimization process rather than manual parameter tweaking.



---



\## 4. Comparison of Methods



| Method | Advantages | Limitations |

|--------|-------------|--------------|

| \*\*MILP (Gurobi, CPLEX)\*\* | Fast for purely linear problems | Poor interval modeling, difficult piecewise cost expressions |

| \*\*Pure CP (Choco, MiniZinc)\*\* | Flexible constraints, easy temporal logic | Hard to express cost and efficiency metrics |

| \*\*CP-SAT (OR-Tools)\*\* | Hybrid of intervals, logic, and linear optimization | Requires parameter tuning, variable solving time |



\*\*Conclusion:\*\* CP-SAT provides the best balance between accuracy, flexibility, and MLOps integrability.



---



\## 5. Scalability Perspective



The designed architecture allows:

\- Extending the model to \*\*multi-day horizons\*\*;

\- Adding \*\*handover mechanisms\*\* for long surgeries;

\- Transitioning from \*\*daily\*\* to \*\*weekly scheduling\*\*;

\- Running \*\*distributed computations\*\* using OR-Tools workers or Kubernetes Jobs.



Thus, CP-SAT ensures mathematical rigor, engineering scalability, and readiness for industrial-grade MLOps experimentation.
