\# ğŸ§© T1.1.2 â€” Formulation of Constraints



This section defines the mathematical and logical constraints that govern the model: non-overlapping surgeries per anesthesiologist, the 20-room capacity limit, a 15-minute transition buffer between rooms, shift duration boundaries (5â€“12 hours), and the shift cost rule.



Each surgery must take place in exactly one operating room:

âˆ€ s âˆˆ S:  Î£â‚r=1â‚Â²â° y\_{s,r} = 1



At any given moment, no more than one surgery may occur in a single room:

âˆ€ sâ‚ â‰  sâ‚‚:

if \[start\_{sâ‚}, end\_{sâ‚}] and \[start\_{sâ‚‚}, end\_{sâ‚‚}] overlap,

then y\_{sâ‚,r} + y\_{sâ‚‚,r} â‰¤ 1  for all r âˆˆ R.

In OR-Tools this constraint is implemented through `NoOverlap` on room intervals.



All surgeries have fixed start and end times â€” their intervals are predetermined and not subject to optimization.



An artificial duration limit is imposed on surgeries to align with the test statement:

duration\_s â‰¤ SHIFT\_MAX,

meaning no surgery may exceed 12 hours.



Protocol remark:

This constraint does not reflect real-world medical practice, where surgeries may last more than a day. It is included solely to maintain consistency with the assignment requirements (â€œShift duration cannot be longer than 12 hoursâ€ and â€œAn anesthesiologist must remain for the entire durationâ€). In real hospital scheduling systems, such cases would require implementing a â€œhandover protocolâ€ that allows personnel rotation mid-procedure.



Each surgery must be attended by exactly one anesthesiologist:

âˆ€ s âˆˆ S:  Î£â‚aâ‚ x\_{s,a} = 1.



An anesthesiologist cannot participate in two surgeries whose time intervals overlap:

âˆ€ sâ‚ â‰  sâ‚‚, âˆ€ a âˆˆ A:

if \[start\_{sâ‚}, end\_{sâ‚}] and \[start\_{sâ‚‚}, end\_{sâ‚‚}] overlap,

then x\_{sâ‚,a} + x\_{sâ‚‚,a} â‰¤ 1.



If anesthesiologist a performs surgeries sâ‚ and sâ‚‚ in different rooms, a transition buffer must be observed:

start\_{sâ‚‚} â‰¥ end\_{sâ‚} + BUFFER.

If both surgeries take place in the same room, no buffer is required. The same rule applies symmetrically when sâ‚‚ precedes sâ‚.



For every anesthesiologist a, the shift boundaries are determined as:

t\_min(a) = min(start\_s),

t\_max(a) = max(end\_s),

duration\_a = t\_max(a) âˆ’ t\_min(a).



The shift duration must satisfy:

SHIFT\_MIN â‰¤ duration\_a â‰¤ SHIFT\_MAX.



Shift cost is computed as:

cost(a) = max(SHIFT\_MIN, duration\_a) + (OVERTIME\_MULTIPLIER âˆ’ 1) Ã— max(0, duration\_a âˆ’ SHIFT\_OVERTIME).



A valid schedule is one where each surgery is assigned to exactly one anesthesiologist and one room, and all temporal, buffer, and shift constraints are satisfied.



