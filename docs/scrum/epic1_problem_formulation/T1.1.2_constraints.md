\# 🧩 T1.1.2 — Formulation of Constraints



This section defines the mathematical and logical constraints that govern the model: non-overlapping surgeries per anesthesiologist, the 20-room capacity limit, a 15-minute transition buffer between rooms, shift duration boundaries (5–12 hours), and the shift cost rule.



Each surgery must take place in exactly one operating room:

∀ s ∈ S:  Σ₍r=1₎²⁰ y\_{s,r} = 1



At any given moment, no more than one surgery may occur in a single room:

∀ s₁ ≠ s₂:

if \[start\_{s₁}, end\_{s₁}] and \[start\_{s₂}, end\_{s₂}] overlap,

then y\_{s₁,r} + y\_{s₂,r} ≤ 1  for all r ∈ R.

In OR-Tools this constraint is implemented through `NoOverlap` on room intervals.



All surgeries have fixed start and end times — their intervals are predetermined and not subject to optimization.



An artificial duration limit is imposed on surgeries to align with the test statement:

duration\_s ≤ SHIFT\_MAX,

meaning no surgery may exceed 12 hours.



Protocol remark:

This constraint does not reflect real-world medical practice, where surgeries may last more than a day. It is included solely to maintain consistency with the assignment requirements (“Shift duration cannot be longer than 12 hours” and “An anesthesiologist must remain for the entire duration”). In real hospital scheduling systems, such cases would require implementing a “handover protocol” that allows personnel rotation mid-procedure.



Each surgery must be attended by exactly one anesthesiologist:

∀ s ∈ S:  Σ₍a₎ x\_{s,a} = 1.



An anesthesiologist cannot participate in two surgeries whose time intervals overlap:

∀ s₁ ≠ s₂, ∀ a ∈ A:

if \[start\_{s₁}, end\_{s₁}] and \[start\_{s₂}, end\_{s₂}] overlap,

then x\_{s₁,a} + x\_{s₂,a} ≤ 1.



If anesthesiologist a performs surgeries s₁ and s₂ in different rooms, a transition buffer must be observed:

start\_{s₂} ≥ end\_{s₁} + BUFFER.

If both surgeries take place in the same room, no buffer is required. The same rule applies symmetrically when s₂ precedes s₁.



For every anesthesiologist a, the shift boundaries are determined as:

t\_min(a) = min(start\_s),

t\_max(a) = max(end\_s),

duration\_a = t\_max(a) − t\_min(a).



The shift duration must satisfy:

SHIFT\_MIN ≤ duration\_a ≤ SHIFT\_MAX.



Shift cost is computed as:

cost(a) = max(SHIFT\_MIN, duration\_a) + (OVERTIME\_MULTIPLIER − 1) × max(0, duration\_a − SHIFT\_OVERTIME).



A valid schedule is one where each surgery is assigned to exactly one anesthesiologist and one room, and all temporal, buffer, and shift constraints are satisfied.



